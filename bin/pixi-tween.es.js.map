{"version":3,"file":"pixi-tween.es.js","sources":["../src/Easing.js","../src/Tween.js","../src/TweenManager.js","../src/TweenPath.js","../src/index.js"],"sourcesContent":["/* eslint-disable no-mixed-operators */\n\n/**\n * @namespace PIXI.tween.Easing\n */\nconst Easing = {\n    /**\n     * linear tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of linear easing function\n     */\n    linear() {\n        return function linear(t) {\n            return t;\n        };\n    },\n\n    /**\n     * inQuad tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inQuad easing function\n     */\n    inQuad() {\n        return function inQuad(t) {\n            return t * t;\n        };\n    },\n\n    /**\n     * outQuad tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outQuad easing function\n     */\n    outQuad() {\n        return function outQuad(t) {\n            return t * (2 - t);\n        };\n    },\n\n    /**\n     * inOutQuad tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutQuad easing function\n     */\n    inOutQuad() {\n        return function inOutQuad(t) {\n            t *= 2;\n            if (t < 1) return 0.5 * t * t;\n\n            return -0.5 * (--t * (t - 2) - 1);\n        };\n    },\n\n    /**\n     * inCubic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inCubic easing function\n     */\n    inCubic() {\n        return function inCubic(t) {\n            return t * t * t;\n        };\n    },\n\n    /**\n     * outCubic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outCubic easing function\n     */\n    outCubic() {\n        return function outCubic(t) {\n            return --t * t * t + 1;\n        };\n    },\n\n    /**\n     * inOutCubic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutCubic easing function\n     */\n    inOutCubic() {\n        return function inOutCubic(t) {\n            t *= 2;\n            if (t < 1) return 0.5 * t * t * t;\n            t -= 2;\n\n            return 0.5 * (t * t * t + 2);\n        };\n    },\n\n    /**\n     * inQuart tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inQuart easing function\n     */\n    inQuart() {\n        return function inQuart(t) {\n            return t * t * t * t;\n        };\n    },\n\n    /**\n     * outQuart tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outQuart easing function\n     */\n    outQuart() {\n        return function outQuart(t) {\n            return 1 - (--t * t * t * t);\n        };\n    },\n\n    /**\n     * inOutQuart tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutQuart easing function\n     */\n    inOutQuart() {\n        return function inOutQuart(t) {\n            t *= 2;\n            if (t < 1) return 0.5 * t * t * t * t;\n            t -= 2;\n\n            return -0.5 * (t * t * t * t - 2);\n        };\n    },\n\n    /**\n     * inQuint tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inQuint easing function\n     */\n    inQuint() {\n        return function inQuint(t) {\n            return t * t * t * t * t;\n        };\n    },\n\n    /**\n     * outQuint tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outQuint easing function\n     */\n    outQuint() {\n        return function outQuint(t) {\n            return --t * t * t * t * t + 1;\n        };\n    },\n\n    /**\n     * inOutQuint tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutQuint easing function\n     */\n    inOutQuint() {\n        return function inOutQuint(t) {\n            t *= 2;\n            if (t < 1) return 0.5 * t * t * t * t * t;\n            t -= 2;\n\n            return 0.5 * (t * t * t * t * t + 2);\n        };\n    },\n\n    /**\n     * inSine tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inSine easing function\n     */\n    inSine() {\n        return function inSine(t) {\n            return 1 - Math.cos(t * Math.PI / 2);\n        };\n    },\n\n    /**\n     * outSine tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outSine easing function\n     */\n    outSine() {\n        return function outSine(t) {\n            return Math.sin(t * Math.PI / 2);\n        };\n    },\n\n    /**\n     * inOutSine tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutSine easing function\n     */\n    inOutSine() {\n        return function inOutSine(t) {\n            return 0.5 * (1 - Math.cos(Math.PI * t));\n        };\n    },\n\n    /**\n     * inExpo tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inExpo easing function\n     */\n    inExpo() {\n        return function inExpo(t) {\n            return t === 0 ? 0 : Math.pow(1024, t - 1);\n        };\n    },\n\n    /**\n     * outExpo tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outExpo easing function\n     */\n    outExpo() {\n        return function outExpo(t) {\n            return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\n        };\n    },\n\n    /**\n     * inOutExpo tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutExpo easing function\n     */\n    inOutExpo() {\n        return function inOutExpo(t) {\n            if (t === 0) return 0;\n            if (t === 1) return 1;\n            t *= 2;\n            if (t < 1) return 0.5 * Math.pow(1024, t - 1);\n\n            return 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);\n        };\n    },\n\n    /**\n     * inCirc tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inCirc easing function\n     */\n    inCirc() {\n        return function inCirc(t) {\n            return 1 - Math.sqrt(1 - t * t);\n        };\n    },\n\n    /**\n     * outCirc tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outCirc easing function\n     */\n    outCirc() {\n        return function outCirc(t) {\n            return Math.sqrt(1 - (--t * t));\n        };\n    },\n\n    /**\n     * inOutCirc tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutCirc easing function\n     */\n    inOutCirc() {\n        return function inOutCirc(t) {\n            t *= 2;\n            if (t < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\n            return 0.5 * (Math.sqrt(1 - (t - 2) * (t - 2)) + 1);\n        };\n    },\n\n    /**\n     * inElastic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [a=0.1] - a\n     * @param {number} [p=0.4] - p\n     * @returns {function} - New instance of inElastic easing function\n     */\n    inElastic(a = 0.1, p = 0.4) {\n        return function inElastic(t) {\n            let s;\n\n            if (t === 0) return 0;\n            if (t === 1) return 1;\n            if (!a || a < 1) {\n                a = 1; s = p / 4;\n            } else {\n                s = p * Math.asin(1 / a) / (2 * Math.PI);\n            }\n\n            return -(a * Math.pow(2, 10 * (t - 1)) * Math.sin(((t - 1) - s) * (2 * Math.PI) / p));\n        };\n    },\n\n    /**\n     * outElastic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [a=0.1] - a\n     * @param {number} [p=0.4] - p\n     * @returns {function} - New instance of outElastic easing function\n     */\n    outElastic(a = 0.1, p = 0.4) {\n        return function outElastic(t) {\n            let s;\n\n            if (t === 0) return 0;\n            if (t === 1) return 1;\n            if (!a || a < 1) {\n                a = 1; s = p / 4;\n            } else {\n                s = p * Math.asin(1 / a) / (2 * Math.PI);\n            }\n\n            return (a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1);\n        };\n    },\n\n    /**\n     * inOutElastic tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [a=0.1] - a\n     * @param {number} [p=0.4] - p\n     * @returns {function} - New instance of inOutElastic easing function\n     */\n    inOutElastic(a = 0.1, p = 0.4) {\n        return function inOutElastic(t) {\n            let s;\n\n            if (t === 0) return 0;\n            if (t === 1) return 1;\n            if (!a || a < 1) {\n                a = 1; s = p / 4;\n            } else {\n                s = p * Math.asin(1 / a) / (2 * Math.PI);\n            }\n            t *= 2;\n            if (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t - 1)) * Math.sin(((t - 1) - s) * (2 * Math.PI) / p));\n\n            return a * Math.pow(2, -10 * (t - 1)) * Math.sin(((t - 1) - s) * (2 * Math.PI) / p) * 0.5 + 1;\n        };\n    },\n\n    /**\n     * inBack tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [v=1.70158] - v\n     * @returns {function} - New instance of inBack easing function\n     */\n    inBack(v = 1.70158) {\n        return function inBack(t) {\n            const s = v;\n\n            return t * t * ((s + 1) * t - s);\n        };\n    },\n\n    /**\n     * outBack tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [v=1.70158] - v\n     * @returns {function} - New instance of outBack easing function\n     */\n    outBack(v = 1.70158) {\n        return function outBack(t) {\n            const s = v;\n\n            return --t * t * ((s + 1) * t + s) + 1;\n        };\n    },\n\n    /**\n     * inOutBack tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @param {number} [v=1.70158] - v\n     * @returns {function} - New instance of inOutBack easing function\n     */\n    inOutBack(v = 1.70158) {\n        return function inOutBack(t) {\n            const s = v * 1.525;\n\n            t *= 2;\n            if (t < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\n            return 0.5 * ((t - 2) * (t - 2) * ((s + 1) * (t - 2) + s) + 2);\n        };\n    },\n\n    /**\n     * inBounce tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inBounce easing function\n     */\n    inBounce() {\n        return function inBounce(t) {\n            return 1 - Easing.outBounce()(1 - t);\n        };\n    },\n\n    /**\n     * outBounce tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of outBounce easing function\n     */\n    outBounce() {\n        return function outBounce(t) {\n            if (t < (1 / 2.75)) {\n                return 7.5625 * t * t;\n            } else if (t < (2 / 2.75)) {\n                t = (t - (1.5 / 2.75));\n\n                return 7.5625 * t * t + 0.75;\n            } else if (t < (2.5 / 2.75)) {\n                t = (t - (2.25 / 2.75));\n\n                return 7.5625 * t * t + 0.9375;\n            }\n            t -= (2.625 / 2.75);\n\n            return 7.5625 * t * t + 0.984375;\n        };\n    },\n\n    /**\n     * inOutBounce tween\n     *\n     * @memberof PIXI.tween.Easing\n     * @returns {function} - New instance of inOutBounce easing function\n     */\n    inOutBounce() {\n        return function inOutBounce(t) {\n            if (t < 0.5) return Easing.inBounce()(t * 2) * 0.5;\n\n            return Easing.outBounce()(t * 2 - 1) * 0.5 + 0.5;\n        };\n    },\n};\n\nexport default Easing;\n","import Easing from './Easing';\n\n/**\n * Fired when the tween starts. If the tween has a delay, this event fires when the delay time is ended.\n *\n * @event PIXI.tween.Tween#start\n */\n\n/**\n * Fired when the tween is over. If the .loop option it's true, this event never will be fired.\n * If the tween has an .repeat number, this event will be fired just when all the repeats are done.\n *\n * @event PIXI.tween.Tween#end\n */\n\n/**\n * Fired at every repeat cycle, if your tween has .repeat=5 this events will be fired 5 times.\n *\n * @event PIXI.tween.Tween#repeat\n * @param {number} repeat - Number of times this tween has repeated\n */\n\n/**\n * Fired at each frame\n *\n * @event PIXI.tween.Tween#update\n * @param {number} elapsedTime - Time in ms since last update event was emitted\n */\n\n/**\n * Fired only when it's used the .stop() method. It's useful to know when a timer is cancelled.\n *\n * @event PIXI.tween.Tween#stop\n */\n\n/**\n * If the pingPong option it's true, this events will be fired when the tweens returns back.\n *\n * @event PIXI.tween.Tween#pingpong\n */\n\n/**\n * Quickly configure a tween via an object / json\n *\n * @typedef {Object} PIXI.tween.Tween#tweenConfig\n * @property {Object} [from]\n * @property {Object} [to]\n * @property {number} [delay]\n * @property {function} [easing]\n * @property {boolean} [expire]\n * @property {boolean} [loop]\n * @property {Object} [path]\n * @property {boolean} [pathReverse]\n * @property {boolean} [pingPong]\n * @property {number} [repeat]\n * @property {number} [time]\n * @property {Object} [on]\n * @property {function} [on.end]\n * @property {function} [on.pingpong]\n * @property {function} [on.repeat]\n * @property {function} [on.start]\n * @property {function} [on.stop]\n * @property {function} [on.update]\n */\n\n/**\n * Tween class\n *\n * @class\n * @memberof PIXI.tween\n */\nexport default class Tween extends PIXI.utils.EventEmitter {\n    /**\n     * @param {*} target - Target object to tween\n     * @param {PIXI.tween.TweenManager} [manager] - Tween manager to handle this tween\n     * @param {PIXI.tween.Tween#tweenConfig} [config] - object to configure the tween\n     */\n    constructor(target, manager, config) {\n        super();\n\n        this.target = target;\n        if (manager) {\n            this.addTo(manager);\n        }\n\n        this.clear();\n        if (config) {\n            this.config(config);\n        }\n    }\n\n    /**\n     * Clears all class data, meaning that the tween will now do nothing if start is called\n     *\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    clear() {\n        /** @member {PIXI.tween.Easing} - Either an easing function from PIXI.tween.Easing or a custom easing */\n        this.easing = Easing.linear();\n\n        /** @member {boolean} - Set true if you want to delete this instance when the animation it's done */\n        this.expire = false;\n\n        /** @member {number} - Times to repeat this tween */\n        this.repeat = 0;\n\n        /** @member {boolean} - Set true if you want to loop this tween forever */\n        this.loop = false;\n\n        /** @member {number} - Set a delay time in milliseconds before the tween starts */\n        this.delay = 0;\n\n        /** @member {boolean} - Set true to repeat the tween from the end point back to the start point */\n        this.pingPong = false;\n\n        /** @member {PIXI.tween.TweenPath} - Set an instance of TweenPath to animate an object along the path */\n        this.path = null;\n\n        /** @member {boolean} - Set true to reverse the direction along the path */\n        this.pathReverse = false;\n\n        /** @member {number} - How long to animate this tween over */\n        this.time = 0;\n\n        this._active = false;\n        this._isStarted = false;\n        this._isEnded = false;\n\n        this._to = {};\n        this._from = {};\n        this._resetFromOnStart = false;\n        this._delayTime = 0;\n        this._elapsedTime = 0;\n        this._repeat = 0;\n        this._pingPong = false;\n\n        this._pathFrom = 0;\n        this._pathTo = 0;\n\n        this._chainTween = null;\n        this._resolvePromise = null;\n\n        return this;\n    }\n\n    /**\n     * Configures the tween via a config object\n     *\n     * @param {PIXI.tween.Tween#tweenConfig} config - object to configure the tween\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    config(config) {\n        if (!config || typeof config !== 'object') {\n            return this;\n        }\n\n        if (typeof config.from === 'object') {\n            this.from(config.from);\n        }\n        if (config.to && typeof config.to === 'object') {\n            this.to(config.to);\n        }\n        if (typeof config.delay === 'number') {\n            this.delay = config.delay;\n        }\n        if (config.easing) {\n            if (typeof config.easing === 'string' && Easing[config.easing]) {\n                this.easing = Easing[config.easing]();\n            } else if (typeof config.easing === 'function') {\n                this.easing = config.easing;\n            }\n        }\n        if (typeof config.expire === 'boolean') {\n            this.expire = config.expire;\n        }\n        if (typeof config.loop === 'boolean') {\n            this.loop = config.loop;\n        }\n        if (typeof config.path === 'object') {\n            this.path = config.path;\n        }\n        if (typeof config.pathReverse === 'boolean') {\n            this.pathReverse = config.pathReverse;\n        }\n        if (typeof config.pingPong === 'boolean') {\n            this.pingPong = config.pingPong;\n        }\n        if (typeof config.repeat === 'number') {\n            this.repeat = config.repeat;\n        }\n        if (typeof config.time === 'number') {\n            this.time = config.time;\n        }\n\n        if (config.on && typeof config.on === 'object') {\n            if (typeof config.on.end === 'function') {\n                this.on('end', config.on.end);\n            }\n            if (typeof config.on.pingpong === 'function') {\n                this.on('pingpong', config.on.pingpong);\n            }\n            if (typeof config.on.repeat === 'function') {\n                this.on('repeat', config.on.repeat);\n            }\n            if (typeof config.on.start === 'function') {\n                this.on('start', config.on.start);\n            }\n            if (typeof config.on.stop === 'function') {\n                this.on('stop', config.on.stop);\n            }\n            if (typeof config.on.update === 'function') {\n                this.on('update', config.on.update);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * True if the tween is running\n     *\n     * @member {boolean}\n     * @readonly\n     */\n    get active() {\n        return this._active;\n    }\n\n    /**\n     * How much time has passed on an active tween\n     *\n     * @member {number}\n     * @readonly\n     */\n    get elapsedTime() {\n        return this._elapsedTime;\n    }\n\n    /**\n     * True if the tween has started running\n     *\n     * @member {boolean}\n     * @readonly\n     */\n    get isStarted() {\n        return this._isStarted;\n    }\n\n    /**\n     * True if a tween has ended running\n     *\n     * @member {boolean}\n     * @readonly\n     */\n    get isEnded() {\n        return this._isEnded;\n    }\n\n    /**\n     * Add the tween to a manager\n     *\n     * @param {PIXI.tween.TweenManager} manager - Tween manager to handle this tween\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    addTo(manager) {\n        this.manager = manager;\n        this.manager.addTween(this);\n\n        return this;\n    }\n\n    /**\n     * Remove the tween from the manager if it has one\n     *\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    remove() {\n        if (!this.manager) {\n            return this;\n        }\n\n        this.manager.removeTween(this);\n\n        return this;\n    }\n\n    /**\n     * Starts the tween\n     *\n     * @param {Promise} resolve - Promise to resolve when the tween has ended\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    start(resolve) {\n        this._active = true;\n        this._isStarted = false;\n\n        if (this._resetFromOnStart) {\n            this._from = {};\n        }\n\n        if (!this._resolvePromise && resolve) {\n            this._resolvePromise = resolve;\n        }\n\n        return this;\n    }\n\n    /**\n     * Starts the tween, whilst returning a new promise\n     *\n     * @returns {Promise} - Promsie that will resolve when the tween has finished\n     */\n    startPromise() {\n        if (!Promise) {\n            return this.start();\n        }\n\n        if (this._resolvePromise) {\n            return Promise.resolve();\n        }\n\n        return new Promise((resolve) => {\n            this.start(resolve);\n        });\n    }\n\n    /**\n     * Stop the tweens progress\n     *\n     * @fires PIXI.tween.Tween#stop\n     *\n     * @param {boolean} [end=false] - Force end to be called\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    stop(end = false) {\n        this._active = false;\n        this.emit('stop');\n\n        if (end) {\n            this._end();\n        }\n\n        return this;\n    }\n\n    /**\n     * Set the end data for the tween\n     *\n     * @example\n     * tween.to({ x:100, y:100 });\n     *\n     * @param {Object} data - Object containing end point data for the tween\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    to(data = {}) {\n        this._to = data;\n\n        return this;\n    }\n\n    /**\n     * Set the start point data for the tween.\n     * If nothing is set, data is reset so that starting the tween will use the objects current state as the start point\n     *\n     * @example\n     * tween.from({ x:50, y:50 });\n     *\n     * @param {Object} [data] - Object containing start point data for the tween\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    from(data) {\n        if (!data || typeof data !== 'object') {\n            this._resetFromOnStart = true;\n            this._from = {};\n        } else {\n            this._resetFromOnStart = false;\n            this._from = data;\n        }\n\n        return this;\n    }\n\n    /**\n     * Chain another tween to play after this tween has ended\n     *\n     * @param {PIXI.tween.Tween} tween - Tween to chain\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    chain(tween) {\n        if (!tween) {\n            tween = new Tween(this.target);\n        }\n        this._chainTween = tween;\n\n        return tween;\n    }\n\n    /**\n     * Resets the tween to it's default state, but keeping any to and from data, so start can be called to replay the tween\n     *\n     * @returns {PIXI.tween.Tween} - This tween instance\n     */\n    reset() {\n        this._elapsedTime = 0;\n        this._repeat = 0;\n        this._delayTime = 0;\n        this._isStarted = false;\n        this._isEnded = false;\n\n        if (this.pingPong && this._pingPong) {\n            const _to = this._to;\n            const _from = this._from;\n\n            this._to = _from;\n            this._from = _to;\n\n            this._pingPong = false;\n        }\n\n        return this;\n    }\n\n    /**\n     * Updating of the tween; usually automatically called by its manager\n     *\n     * @fires PIXI.tween.Tween#start\n     * @fires PIXI.tween.Tween#update\n     * @fires PIXI.tween.Tween#pingpong\n     * @fires PIXI.tween.Tween#repeat\n     *\n     * @param {number} deltaMS - Time elapsed in milliseconds from last update to this update.\n     */\n    update(deltaMS) {\n        if (!this._canUpdate() && (this._to || this.path)) {\n            return;\n        }\n\n        if (this.delay > this._delayTime) {\n            this._delayTime += deltaMS;\n\n            return;\n        }\n\n        if (!this._isStarted) {\n            this._parseData();\n            this._isStarted = true;\n            this._isEnded = false;\n            this.emit('start');\n        }\n\n        const time = (this.pingPong) ? this.time / 2 : this.time;\n        let _to;\n        let _from;\n\n        if (time >= this._elapsedTime) {\n            const t = this._elapsedTime + deltaMS;\n            const ended = (t >= time);\n\n            this._elapsedTime = ended ? time : t;\n            this._apply(time);\n\n            const realElapsed = this._pingPong ? time + this._elapsedTime : this._elapsedTime;\n\n            this.emit('update', realElapsed);\n\n            if (ended) {\n                if (this.pingPong && !this._pingPong) {\n                    this._pingPong = true;\n                    _to = this._to;\n                    _from = this._from;\n                    this._from = _to;\n                    this._to = _from;\n\n                    if (this.path) {\n                        _to = this._pathTo;\n                        _from = this._pathFrom;\n                        this._pathTo = _from;\n                        this._pathFrom = _to;\n                    }\n\n                    this.emit('pingpong');\n                    this._elapsedTime = 0;\n\n                    return;\n                }\n\n                if (this.loop || this.repeat > this._repeat) {\n                    ++this._repeat;\n                    this.emit('repeat', this._repeat);\n                    this._elapsedTime = 0;\n\n                    if (this.pingPong && this._pingPong) {\n                        _to = this._to;\n                        _from = this._from;\n                        this._to = _from;\n                        this._from = _to;\n\n                        if (this.path) {\n                            _to = this._pathTo;\n                            _from = this._pathFrom;\n                            this._pathTo = _from;\n                            this._pathFrom = _to;\n                        }\n\n                        this._pingPong = false;\n                    }\n\n                    return;\n                }\n\n                this._end();\n            }\n\n            return;\n        }\n    }\n\n    /**\n     * Called when the tween has finished\n     *\n     * @fires PIXI.tween.Tween#end\n     *\n     * @private\n     */\n    _end() {\n        this._isEnded = true;\n        this._active = false;\n        this.emit('end');\n        this._elapsedTime = 0;\n\n        if (this._chainTween) {\n            if (!this._chainTween.manager) {\n                this._chainTween.addTo(this.manager);\n            }\n            this._chainTween.start(this._resolvePromise);\n            this._resolvePromise = null;\n        } else if (this._resolvePromise) {\n            const resolvePromise = this._resolvePromise;\n\n            this._resolvePromise = null;\n            resolvePromise();\n        }\n    }\n\n    /**\n     * Parses the from and to data to extract details about how the tween should progress\n     *\n     * @private\n     */\n    _parseData() {\n        if (this._isStarted) {\n            return;\n        }\n\n        _parseRecursiveData(this._to, this._from, this.target);\n\n        if (this.path) {\n            const distance = this.path.totalDistance();\n\n            if (this.pathReverse) {\n                this._pathFrom = distance;\n                this._pathTo = 0;\n            } else {\n                this._pathFrom = 0;\n                this._pathTo = distance;\n            }\n        }\n    }\n\n    /**\n     * Updates the object with the tween settings\n     *\n     * @param {number} time - Time duration for the tween\n     * @private\n     */\n    _apply(time) {\n        _recursiveApplyTween(this._to, this._from, this.target, time, this._elapsedTime, this.easing);\n\n        if (this.path) {\n            const time = (this.pingPong) ? this.time / 2 : this.time;\n            const b = this._pathFrom;\n            const c = this._pathTo - this._pathFrom;\n            const d = time;\n            const t = time ? this._elapsedTime / d : 1;\n\n            const distance = b + (c * this.easing(t));\n            const pos = this.path.getPointAtDistance(distance);\n\n            this.target.position.set(pos.x, pos.y);\n        }\n    }\n\n    /**\n     * Can this tween be updated (must be active and have a target destination)\n     *\n     * @returns {boolean} - True if this tween can be updated\n     * @private\n     */\n    _canUpdate() {\n        return (this._active && this.target);\n    }\n}\n\nfunction _recursiveApplyTween(to, from, target, time, elapsedTime, easing) {\n    for (const k in to) {\n        if (!_isObject(to[k])) {\n            const b = from[k];\n            const c = to[k] - from[k];\n            const d = time;\n            const t = time ? elapsedTime / d : 1;\n\n            target[k] = b + (c * easing(t));\n        } else {\n            _recursiveApplyTween(to[k], from[k], target[k], time, elapsedTime, easing);\n        }\n    }\n}\n\nfunction _parseRecursiveData(to, from, target) {\n    for (const k in to) {\n        if (from[k] !== 0 && !from[k]) {\n            if (_isObject(target[k])) {\n                from[k] = {};\n                _parseRecursiveData(to[k], from[k], target[k]);\n            } else {\n                from[k] = target[k];\n            }\n        }\n    }\n}\n\nfunction _isObject(obj) {\n    return Object.prototype.toString.call(obj) === '[object Object]';\n}\n","import Tween from './Tween';\n\n/**\n * Tween manager class, that handles updating child Tweens\n *\n * @class\n * @memberof PIXI.tween\n */\nexport default class TweenManager {\n    /** */\n    constructor() {\n        /** @member {Array.<PIXI.tween.Tween>} - The array of tweens being manager */\n        this.tweens = [];\n\n        this._tweensToDelete = [];\n        this._last = 0;\n    }\n\n    /**\n     * Updating of the tween manager, which will in turn update any active tweens\n     *\n     * @param {number} [deltaMS] - If not provided, an internal deltaMS will be calculated\n     */\n    update(deltaMS) {\n        if (!deltaMS && deltaMS !== 0) {\n            deltaMS = this._getDeltaMS();\n        }\n\n        for (let i = 0; i < this.tweens.length; ++i) {\n            const tween = this.tweens[i];\n\n            if (tween.active) {\n                tween.update(deltaMS);\n                if (tween.isEnded && tween.expire) {\n                    tween.remove();\n                }\n            }\n        }\n\n        if (this._tweensToDelete.length) {\n            for (let i = 0; i < this._tweensToDelete.length; ++i) {\n                this._remove(this._tweensToDelete[i]);\n            }\n            this._tweensToDelete.length = 0;\n        }\n    }\n\n    /**\n     * Returns an array with all the tweens for the given target.\n     *\n     * @param {any} target - The target object to check for tweens\n     * @returns {Array.<PIXI.tween.Tween>} - Tweens attached to the given target\n     */\n    getTweensForTarget(target) {\n        const tweens = [];\n\n        for (let i = 0; i < this.tweens.length; ++i) {\n            if (this.tweens[i].target === target) {\n                tweens.push(this.tweens[i]);\n            }\n        }\n\n        return tweens;\n    }\n\n    /**\n     * Returns a new tween instance that is managed by this tween manager.\n     *\n     * @param {any} target - The target object to add a tween to\n     * @param {PIXI.tween.Tween#tweenConfig} [config] - object to configure the tween\n     * @returns {PIXI.tween.Tween} - New tween instance\n     */\n    createTween(target, config) {\n        return new Tween(target, this, config);\n    }\n\n    /**\n     * Normally you want to use .createTween(target) to create a tween, but, you can also create a tween\n     * with new PIXI.Tween(target) and add it in the manager with this method.\n     *\n     * @param {PIXI.tween.Tween} tween - Tween to add\n     */\n    addTween(tween) {\n        tween.manager = this;\n        this.tweens.push(tween);\n    }\n\n    /**\n     * Removes a tween from being managed by this instance\n     *\n     * @param {PIXI.tween.Tween} tween - Tween to remove\n     */\n    removeTween(tween) {\n        this._tweensToDelete.push(tween);\n    }\n\n    /**\n     * Delets the tween from the array of managed tweens\n     *\n     * @param {PIXI.tween.Tween} tween - Tween to remove\n     * @private\n     */\n    _remove(tween) {\n        const index = this.tweens.indexOf(tween);\n\n        if (index !== -1) {\n            this.tweens.splice(index, 1);\n        }\n    }\n\n    /**\n     * Returns a new tween instance that is managed by this tween manager.\n     *\n     * @returns {number} - How much time in ms has passed since update was last called\n     * @private\n     */\n    _getDeltaMS() {\n        if (this._last === 0) {\n            this._last = Date.now();\n        }\n        const now = Date.now();\n        const deltaMS = now - this._last;\n\n        this._last = now;\n\n        return deltaMS;\n    }\n}\n","/**\n * Class that allows drawing a path using PIXI.Graphics, which can then be followed and used as a tween\n *\n * @class\n * @memberof PIXI.tween\n */\nexport default class TweenPath {\n    /** */\n    constructor() {\n        /** @member {PIXI.Polygon} - PIXI object to use as the path */\n        this.polygon = new PIXI.Polygon();\n        this.polygon.closed = false;\n\n        /** @member {PIXI.GraphicsData} - Current path */\n        this.currentPath = null;\n\n        /** @member {Array.<PIXI.GraphicsData>} - Graphics data */\n        this.graphicsData = [];\n\n        /**\n         * @member {boolean}\n         * Used to detect if the graphics object has changed.\n         * If this is set to true then the graphics object will be recalculated.\n         */\n        this.dirty = true;\n\n        this._closed = false;\n        this._tmpPoint = new PIXI.Point();\n        this._tmpPoint2 = new PIXI.Point();\n        this._tmpDistance = [];\n    }\n\n    /**\n     * Set true to close your path\n     *\n     * @member {boolean}\n     */\n    get closed() {\n        return this._closed;\n    }\n\n    set closed(value) { // eslint-disable-line require-jsdoc\n        if (this._closed === value) {\n            return;\n        }\n        this.polygon.closed = value;\n        this._closed = value;\n        this.dirty = true;\n    }\n\n    /**\n     * The number of points along the path\n     *\n     * @member {number}\n     * @readonly\n     */\n    get length() {\n        return (this.polygon.points.length) ? (this.polygon.points.length / 2) + ((this._closed) ? 1 : 0) : 0;\n    }\n\n    /**\n     * Clear the path\n     * Moves the current drawing position to x, y.\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#moveTo\n     *\n     * @param {number} x - the X coordinate to move to\n     * @param {number} y - the Y coordinate to move to\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    moveTo(x, y) {\n        PIXI.Graphics.prototype.moveTo.call(this, x, y);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a line using the current line style from the current drawing position to (x, y);\n     * The current drawing position is then set to (x, y).\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#lineTo\n     *\n     * @param {number} x - the X coordinate to draw to\n     * @param {number} y - the Y coordinate to draw to     *\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    lineTo(x, y) {\n        PIXI.Graphics.prototype.lineTo.call(this, x, y);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Calculate the points for a quadratic bezier curve and then draws it.\n     * Based on: https://stackoverflow.com/questions/785097/how-do-i-implement-a-bezier-curve-in-c\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#quadraticCurveTo\n     *\n     * @param {number} cpX - Control point x\n     * @param {number} cpY - Control point y\n     * @param {number} toX - Destination point x\n     * @param {number} toY - Destination point y\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    quadraticCurveTo(cpX, cpY, toX, toY) {\n        PIXI.Graphics.prototype.quadraticCurveTo.call(this, cpX, cpY, toX, toY);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Calculate the points for a bezier curve and then draws it.\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#bezierCurveTo\n     *\n     * @param {number} cpX - Control point x\n     * @param {number} cpY - Control point y\n     * @param {number} cpX2 - Second Control point x\n     * @param {number} cpY2 - Second Control point y\n     * @param {number} toX - Destination point x\n     * @param {number} toY - Destination point y     *\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\n        PIXI.Graphics.prototype.bezierCurveTo.call(this, cpX, cpY, cpX2, cpY2, toX, toY);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * The arcTo() method creates an arc/curve between two tangents on the canvas.\n     * \"borrowed\" from https://code.google.com/p/fxcanvas/ - thanks google!\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#arcTo\n     *\n     * @param {number} x1 - The x-coordinate of the beginning of the arc\n     * @param {number} y1 - The y-coordinate of the beginning of the arc\n     * @param {number} x2 - The x-coordinate of the end of the arc\n     * @param {number} y2 - The y-coordinate of the end of the arc\n     * @param {number} radius - The radius of the arc\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    arcTo(x1, y1, x2, y2, radius) {\n        PIXI.Graphics.prototype.arcTo.call(this, x1, y1, x2, y2, radius);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * The arc method creates an arc/curve (used to create circles, or parts of circles).\n     * @see https://pixijs.github.io/docs/PIXI.Graphics.html#arc\n     *\n     * @param {number} cx - The x-coordinate of the center of the circle\n     * @param {number} cy - The y-coordinate of the center of the circle\n     * @param {number} radius - The radius of the circle\n     * @param {number} startAngle - The starting angle, in radians (0 is at the 3 o'clock position\n     *  of the arc's circle)\n     * @param {number} endAngle - The ending angle, in radians\n     * @param {boolean} [anticlockwise=false] - Specifies whether the drawing should be\n     *  counter-clockwise or clockwise. False is default, and indicates clockwise, while true\n     *  indicates counter-clockwise.\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    arc(cx, cy, radius, startAngle, endAngle, anticlockwise) {\n        PIXI.Graphics.prototype.arc.call(this, cx, cy, radius, startAngle, endAngle, anticlockwise);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws the given shape to this TweenPath object. Can be any of Circle, Rectangle, Ellipse, Line or Polygon.\n     *\n     * @param {PIXI.Circle|PIXI.Ellipse|PIXI.Polygon|PIXI.Rectangle|PIXI.RoundedRectangle} shape - The shape object to draw.\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    drawShape(shape) {\n        PIXI.Graphics.prototype.drawShape.call(this, shape);\n        this.dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Clear the path\n     *\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    clear() {\n        this.graphicsData.length = 0;\n        this.currentPath = null;\n        this.polygon.points.length = 0;\n        this._closed = false;\n        this.dirty = false;\n\n        return this;\n    }\n\n    /**\n     * Parse the list of points from the path\n     *\n     * @returns {PIXI.tween.TweenPath} - This instance of TweenPath\n     */\n    parsePoints() {\n        if (!this.dirty) {\n            return this;\n        }\n        this.dirty = false;\n        this.polygon.points.length = 0;\n        for (let i = 0; i < this.graphicsData.length; ++i) {\n            const shape = this.graphicsData[i].shape;\n\n            if (shape && shape.points) {\n                this.polygon.points = this.polygon.points.concat(shape.points);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * Finds the nth point along the path\n     *\n     * @param {PIXI.Point} num - Point\n     * @returns {PIXI.Point} - Point co-ordinates\n     */\n    getPoint(num) {\n        this.parsePoints();\n        const len = (this.closed && num >= this.length - 1) ? 0 : num * 2;\n\n        this._tmpPoint.set(this.polygon.points[len], this.polygon.points[len + 1]);\n\n        return this._tmpPoint;\n    }\n\n    /**\n     * Finds the nth point along the path\n     *\n     * @param {PIXI.Point} num - Point\n     * @returns {PIXI.Point} - Point co-ordinates\n     */\n    getPointAt(num) {\n        this.parsePoints();\n        if (num > this.length) {\n            return this.getPoint(this.length - 1);\n        }\n\n        if (num % 1 === 0) {\n            return this.getPoint(num);\n        }\n        this._tmpPoint2.set(0, 0);\n        const diff = num % 1;\n        const { x: ceilX, y: ceilY } = this.getPoint(Math.ceil(num));\n        const { x: floorX, y: floorY } = this.getPoint(Math.floor(num));\n\n        const xx = -((floorX - ceilX) * diff);\n        const yy = -((floorY - ceilY) * diff);\n\n        this._tmpPoint2.set(floorX + xx, floorY + yy);\n\n        return this._tmpPoint2;\n    }\n\n    /**\n     * Finds the distance between two points\n     *\n     * @param {PIXI.Point} num1 - First point\n     * @param {PIXI.Point} num2 - Second point\n     * @returns {number} - Distance in pixels\n     */\n    distanceBetween(num1, num2) {\n        this.parsePoints();\n        const { x: p1X, y: p1Y } = this.getPoint(num1);\n        const { x: p2X, y: p2Y } = this.getPoint(num2);\n        const dx = p2X - p1X;\n        const dy = p2Y - p1Y;\n\n        return Math.sqrt((dx * dx) + (dy * dy));\n    }\n\n    /**\n     * Calculates the total distance along the entire path\n     *\n     * @returns {number} - Distance in pixels\n     */\n    totalDistance() {\n        this.parsePoints();\n        this._tmpDistance.length = 0;\n        this._tmpDistance.push(0);\n\n        const len = this.length;\n        let distance = 0;\n\n        for (let i = 0; i < len - 1; ++i) {\n            distance += this.distanceBetween(i, i + 1);\n            this._tmpDistance.push(distance);\n        }\n\n        return distance;\n    }\n\n    /**\n     * Finds the nearest point for the distance to be travelled\n     *\n     * @param {number} distance - how far to travel\n     * @returns {PIXI.Point} - Point co-ordinates\n     */\n    getPointAtDistance(distance) {\n        this.parsePoints();\n        if (!this._tmpDistance) {\n            this.totalDistance();\n        }\n        const len = this._tmpDistance.length;\n        let n = 0;\n\n        const totalDistance = this._tmpDistance[this._tmpDistance.length - 1];\n\n        if (distance < 0) {\n            distance = totalDistance + distance;\n        } else if (distance > totalDistance) {\n            distance = distance - totalDistance;\n        }\n\n        for (let i = 0; i < len; ++i) {\n            if (distance >= this._tmpDistance[i]) {\n                n = i;\n            }\n\n            if (distance < this._tmpDistance[i]) break;\n        }\n\n        if (n === this.length - 1) {\n            return this.getPointAt(n);\n        }\n\n        const diff1 = distance - this._tmpDistance[n];\n        const diff2 = this._tmpDistance[n + 1] - this._tmpDistance[n];\n\n        return this.getPointAt(n + (diff1 / diff2));\n    }\n}\n","import TweenManager from './TweenManager';\nimport Tween from './Tween';\nimport TweenPath from './TweenPath';\nimport Easing from './Easing';\n\n// extend pixi graphics to draw tweenPaths\nPIXI.Graphics.prototype.drawPath = function drawPath(path) {\n    path.parsePoints();\n    this.drawShape(path.polygon);\n\n    return this;\n};\n\n/**\n * @namespace PIXI.tween\n */\nconst tween = {\n    TweenManager,\n    Tween,\n    Easing,\n    TweenPath,\n};\n\nif (!PIXI.tweenManager) {\n    PIXI.tweenManager = new TweenManager();\n\n    PIXI.tween = tween;\n}\n\nexport default tween;\n"],"names":["Easing","linear","t","inQuad","outQuad","inOutQuad","inCubic","outCubic","inOutCubic","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inSine","Math","cos","PI","outSine","sin","inOutSine","inExpo","pow","outExpo","inOutExpo","inCirc","sqrt","outCirc","inOutCirc","a","p","inElastic","s","asin","outElastic","inOutElastic","v","inBack","outBack","inOutBack","inBounce","outBounce","inOutBounce","Tween","target","manager","config","addTo","clear","easing","expire","repeat","loop","delay","pingPong","path","pathReverse","time","_active","_isStarted","_isEnded","_to","_from","_resetFromOnStart","_delayTime","_elapsedTime","_repeat","_pingPong","_pathFrom","_pathTo","_chainTween","_resolvePromise","babelHelpers.typeof","from","to","on","end","pingpong","start","stop","update","addTween","removeTween","resolve","Promise","emit","_end","data","tween","deltaMS","_canUpdate","_parseData","ended","_apply","realElapsed","resolvePromise","distance","totalDistance","b","c","d","pos","getPointAtDistance","position","set","x","y","PIXI","utils","EventEmitter","_recursiveApplyTween","elapsedTime","k","_isObject","_parseRecursiveData","obj","Object","prototype","toString","call","TweenManager","tweens","_tweensToDelete","_last","_getDeltaMS","i","length","active","isEnded","remove","_remove","push","index","indexOf","splice","Date","now","TweenPath","polygon","Polygon","closed","currentPath","graphicsData","dirty","_closed","_tmpPoint","Point","_tmpPoint2","_tmpDistance","Graphics","moveTo","lineTo","cpX","cpY","toX","toY","quadraticCurveTo","cpX2","cpY2","bezierCurveTo","x1","y1","x2","y2","radius","arcTo","cx","cy","startAngle","endAngle","anticlockwise","arc","shape","drawShape","points","concat","num","parsePoints","len","getPoint","diff","ceil","ceilX","ceilY","floor","floorX","floorY","xx","yy","num1","num2","p1X","p1Y","p2X","p2Y","dx","dy","distanceBetween","n","getPointAt","diff1","diff2","value","drawPath","tweenManager"],"mappings":"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"}